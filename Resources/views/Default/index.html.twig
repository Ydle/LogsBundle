{#  
    This file is part of Ydle.

    Ydle is free software: you can redistribute it and/or modify
    it under the terms of the GNU  Lesser General Public License as published by
    the Free Software Foundation, either version 3 of the License, or
    (at your option) any later version.

    Ydle is distributed in the hope that it will be useful,
    but WITHOUT ANY WARRANTY; without even the implied warranty of
    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
    GNU  Lesser General Public License for more details.

    You should have received a copy of the GNU Lesser General Public License
    along with Ydle.  If not, see <http://www.gnu.org/licenses/>.
#}

{% extends "YdleHubBundle::layout.html.twig" %}

{% block title "page.logs.title" | trans %}

{% block submenu %}
  {{ include('YdleHubBundle:Config:submenu.html.twig', {
    'current': 'logs'
    })
  }}
{% endblock %}
{% block content %}
    <!-- Example row of columns -->
    <div class="row">
        <div class="col-lg-8 with-border">
            <h2>{{ "logs.title" | trans }}</h2>
            <table id="logs">
            <thead>
            <tr>
                <th>{{ "logs.list.date" | trans }}</th>
                <th>{{ "title.type" | trans }}</th>
                <th>{{ "logs.list.source" | trans }}</th>
                <th>{{ "logs.list.message" | trans }}</th>
            </tr>
            </thead>
            {% if pagination.getTotalItemCount %}
            <tbody>
            {% for log in pagination %}
            <tr {% if loop.index is odd %}class="color"{% endif %}>
                <td>{{ log.createdAt | date("d/m/Y H:i:s") }}</td>
                <td>{{ log.type }}</td>
                <td>{{ log.source }}</td>
                <td>{{ log.content }}</td>
            </tr>
            {% endfor %}
            </tbody>
            <tfoot>
            <tr>
                <td colspan="4">                
                {# display navigation #}
                <div class="navigation">
                    {{ knp_pagination_render(pagination) }}
                </div>
                </td>
            </tfoot>
            {% else %}
            <tbody>
            <tr>
                <td colspan="4">{{ "logs.list.empty" | trans }}</td>
            </tr>
            </tbody>
            {% endif %}
            </table>
        </div>
        <div class="col-lg-4 content panel panel-default">
          <div class="panel-heading">
          <h3 class="panel-title">{{ "logs.details" | trans }}</h3>
          </div>
          <div class="panel-body">
              <a href="{{ path('resetlogs') }}" class="btn btn-danger" onclick="return confirm('{{ "logs.delete.confirm" | trans }}');">{{ "logs.delete.action" | trans }}</a>
          </div>
          <div class="panel-footer">
          </div>
        </div> 
    </div>      
{% endblock %}